`objdump` å¹¶ä¸æ˜¯ GCC çš„é€‰é¡¹ï¼Œè€Œæ˜¯ä¸€ä¸ª **GNU Binutils å·¥å…·**ï¼Œå¸¸ä¸ GCC ä¸€èµ·ä½¿ç”¨ï¼Œä¸“é—¨ç”¨äºæŸ¥çœ‹ç¼–è¯‘ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚ `.o`, `.out`, `.elf` ç­‰ï¼‰çš„å†…å®¹ã€‚

------

## ğŸ› ï¸ ä¸€ã€ä»€ä¹ˆæ˜¯ `objdump`ï¼Ÿ

`objdump` æ˜¯ä¸€ä¸ªå¼ºå¤§çš„äºŒè¿›åˆ¶åˆ†æå·¥å…·ï¼Œèƒ½è®©ä½ ä»å¯æ‰§è¡Œæ–‡ä»¶ä¸­åæ±‡ç¼–ã€æŸ¥çœ‹èŠ‚ï¼ˆsectionï¼‰ã€ç¬¦å·è¡¨ã€æœºå™¨ç ç­‰ä¿¡æ¯ã€‚

å®ƒçš„ä½œç”¨ç±»ä¼¼äºï¼š

> ğŸ§ **æŠŠçœ‹ä¸æ‡‚çš„æœºå™¨æ–‡ä»¶ï¼Œç¿»è¯‘æˆæ±‡ç¼–ã€äººèƒ½è¯»çš„ç»“æ„ä¿¡æ¯**

------

## ğŸ“š äºŒã€å¸¸ç”¨å‘½ä»¤ä¸é€‰é¡¹

| å‘½ä»¤                        | è¯´æ˜                                      |
| --------------------------- | ----------------------------------------- |
| `objdump -d a.out`          | **åæ±‡ç¼–ä»£ç æ®µï¼ˆ.textï¼‰**                 |
| `objdump -S a.out`          | æ±‡ç¼–ä¸­**å¸¦æœ‰ C æºç **ï¼ˆéœ€è¦å¸¦ `-g` ç¼–è¯‘ï¼‰ |
| `objdump -t a.out`          | æŸ¥çœ‹**ç¬¦å·è¡¨**ï¼ˆå‡½æ•°/å˜é‡ç­‰ï¼‰             |
| `objdump -x a.out`          | æ˜¾ç¤ºæ‰€æœ‰å¤´éƒ¨ä¿¡æ¯ï¼ˆèŠ‚å¤´ã€ç¬¦å·ã€å…¥å£ç‚¹ç­‰ï¼‰  |
| `objdump -h a.out`          | æ˜¾ç¤º**èŠ‚æ®µä¿¡æ¯**ï¼ˆsection headerï¼‰        |
| `objdump -s a.out`          | æŸ¥çœ‹**åŸå§‹åå…­è¿›åˆ¶æ•°æ®**                  |
| `objdump -D -M intel a.out` | åæ±‡ç¼–ä¸º Intel é£æ ¼æ±‡ç¼–ï¼ˆé»˜è®¤æ˜¯ AT&Tï¼‰    |



------

## ğŸ§ª ä¸‰ã€ç¤ºä¾‹ï¼šåæ±‡ç¼–å¯æ‰§è¡Œæ–‡ä»¶

```
gcc -g hello.c -o hello
objdump -d hello
```

è¾“å‡ºï¼ˆåªæ˜¾ç¤º `.text` æ®µæ±‡ç¼–ï¼‰ï¼š

```
080483f4 <main>:
 80483f4: 55                    push   %ebp
 80483f5: 89 e5                 mov    %esp,%ebp
 80483f7: 83 ec 08              sub    $0x8,%esp
```

------

## ğŸ¯ å››ã€æŸ¥çœ‹ç¬¦å·è¡¨

```
objdump -t hello
```

è¾“å‡ºï¼š

```
0000000000001139 g     F .text  0000000000000006              _Z3addii
0000000000001170 g     F .text  000000000000002a              main
```

è¿™ä¼šæ˜¾ç¤ºå‡½æ•°åã€åœ°å€ã€æ‰€å±æ®µï¼ˆå¦‚ `.text`ï¼‰ã€å¤§å°ã€é“¾æ¥å±æ€§ç­‰ã€‚

------

## ğŸ§  äº”ã€æŸ¥çœ‹å¸¦æºç çš„æ±‡ç¼–ï¼ˆè°ƒè¯•è¾…åŠ©ï¼‰

```
gcc -g test.c -o test
objdump -S test
```

è¾“å‡ºç±»ä¼¼ï¼š

```
int main() {
 80483f4: 55                    push   %ebp
 80483f5: 89 e5                 mov    %esp,%ebp
```

å¦‚æœæœ‰è°ƒè¯•ä¿¡æ¯ï¼Œä¼šç›´æ¥æ˜¾ç¤º C æºç å¯¹åº”çš„æ±‡ç¼–ã€‚

------

## âœ… å…­ã€objdump vs other tools

| å·¥å…·      | åŠŸèƒ½                            |
| --------- | ------------------------------- |
| `objdump` | å…¨èƒ½çš„äºŒè¿›åˆ¶ç»“æ„å’Œæ±‡ç¼–æŸ¥çœ‹      |
| `readelf` | æŸ¥çœ‹ ELF æ–‡ä»¶ç»“æ„ï¼ˆèŠ‚å¤´ã€ç¬¦å·ï¼‰ |
| `nm`      | æŸ¥çœ‹ç¬¦å·è¡¨ï¼ˆæ›´ç®€æ´ï¼‰            |
| `strings` | æå–å¯è¯»å­—ç¬¦ä¸²                  |
| `gdb`     | è¿è¡Œæ—¶è°ƒè¯•å·¥å…·                  |



------

## ä¸ƒã€å¸¸ç”¨ç»„åˆæ¨è

```
# ç¼–è¯‘å¸¦ç¬¦å·ä¿¡æ¯
gcc -g test.c -o test

# åæ±‡ç¼– + æºç 
objdump -S test

# ç”¨ Intel æ±‡ç¼–é£æ ¼åæ±‡ç¼–
objdump -d -M intel test

# æŸ¥çœ‹èŠ‚åŒºä¿¡æ¯
objdump -h test
```

------

## âœ… æ€»ç»“

| ä½ æƒ³åšçš„äº‹                 | æ¨èå‘½ä»¤           |
| -------------------------- | ------------------ |
| çœ‹æ±‡ç¼–ä»£ç                  | `objdump -d a.out` |
| çœ‹ C æºç  + æ±‡ç¼–           | `objdump -S a.out` |
| çœ‹ç¬¦å·è¡¨ï¼ˆå‡½æ•°/å˜é‡ï¼‰      | `objdump -t a.out` |
| çœ‹ç¨‹åºèŠ‚ï¼ˆ.text, .dataç­‰ï¼‰ | `objdump -h a.out` |
| çœ‹åŸå§‹äºŒè¿›åˆ¶/åå…­è¿›åˆ¶å†…å®¹  | `objdump -s a.out` |
