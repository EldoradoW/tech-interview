在 C++ 中，`new` 操作符可以用于**动态分配内存**，包括为指针本身或其指向的对象分配空间。下面分别说明：

------

### ✅ 一、为一个普通指针分配空间

```cpp
int* p = new int;        // 分配一个 int 的空间
*p = 42;                 // 使用它

std::cout << *p << "\n"; // 输出：42

delete p;                // 释放空间
```

------

### ✅ 二、为一个数组指针分配空间

```cpp
int* arr = new int[5];   // 分配一个 int 数组，包含 5 个元素

for (int i = 0; i < 5; ++i)
    arr[i] = i * 10;

for (int i = 0; i < 5; ++i)
    std::cout << arr[i] << " "; // 输出：0 10 20 30 40

delete[] arr;            // 释放数组
```

------

### ✅ 三、为一个**二级指针（指向指针的指针）**分配空间

```cpp
int** p2 = new int*;     // 为一个 int* 分配空间
*p2 = new int(99);       // 为 int 分配空间，并初始化为 99

std::cout << **p2 << "\n"; // 输出：99

delete *p2;              // 释放 int
delete p2;               // 释放 int*
```

------

### ✅ 四、为多个指针分配二维空间（如二维数组）

```cpp
int rows = 3, cols = 4;
int** matrix = new int*[rows];      // 分配指针数组

for (int i = 0; i < rows; ++i)
    matrix[i] = new int[cols];      // 每行分配 int[cols]

// 使用 matrix[i][j]...

// 清理内存
for (int i = 0; i < rows; ++i)
    delete[] matrix[i];
delete[] matrix;
```

------

### 📌 关键总结

| 需求         | 写法                  | 清理方式                            |
| ------------ | --------------------- | ----------------------------------- |
| 单个对象     | `T* p = new T;`       | `delete p;`                         |
| 数组对象     | `T* p = new T[N];`    | `delete[] p;`                       |
| 二级指针结构 | `T** pp = new T*[M];` | `delete[] pp[i];` 和 `delete[] pp;` |
